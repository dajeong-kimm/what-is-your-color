services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: yourcolors-backend
    environment:
      - APP_NAME=yourcolors
      - APP_VERSION=1.0.0
    network_mode: host  # 백엔드는 host 네트워크 사용

  frontend:
    build:
      context: ./frontend/yourcolors
      dockerfile: Dockerfile
    container_name: yourcolors-frontend
    network_mode: host  # 프론트엔드도 host 네트워크 사용
    depends_on:
      - backend
    volumes:
      - /etc/letsencrypt/live/i12e106.p.ssafy.io:/etc/nginx/ssl:ro  # 인증서 볼륨 마운트 수정
      - /etc/letsencrypt/archive/i12e106.p.ssafy.io:/etc/nginx/archive:ro  # 인증서 기록 저장소 추가
